(this.webpackJsonpfront=this.webpackJsonpfront||[]).push([[4],{34:function(e,t){e.exports={vendingMachine:"Outside Vending Machine",price:"Price",rs:"Rs",enterItemsToPurchase:"Enter items to purchase",enterCashAmount:"Enter cash amount",purchase:"Purchase",refund:"Refund",enterPurchaseToken:"Enter purchase Token",amountOnStock:"Stock"}},35:function(e,t){e.exports={data:{items:"/data/items"},transaction:{purchase:"/transaction/purchase",refund:"/transaction/refund"}}},37:function(e,t,r){"use strict";r.d(t,"a",(function(){return b})),r.d(t,"b",(function(){return j})),r.d(t,"c",(function(){return h}));var n=r(30),c=r.n(n),a=r(31),s=r(35),u=r(38),i=r.n(u),o=function(){var e=Object(a.a)(c.a.mark((function e(t,r,n){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i()({method:t,data:n,url:"/api"+r});case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),b=function(){var e=Object(a.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o("GET",s.data.items);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),j=function(){var e=Object(a.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o("POST",s.transaction.purchase,t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(a.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o("GET","".concat(s.transaction.refund,"/").concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},80:function(e,t,r){"use strict";r.r(t);var n=r(30),c=r.n(n),a=r(31),s=r(50),u=r(0),i=r(34),o=r(37),b=r(47),j=r.n(b),h=r(12),d=r(4);t.default=function(){var e=Object(u.useState)([]),t=Object(s.a)(e,2),r=t[0],n=t[1],b=Object(u.useState)(!0),p=Object(s.a)(b,2),f=p[0],m=p[1],l=Object(u.useState)(!1),O=Object(s.a)(l,2),x=O[0],v=O[1],g=Object(u.useState)(""),k=Object(s.a)(g,2),P=k[0],w=k[1],N=Object(u.useState)(1),T=Object(s.a)(N,2),E=T[0],S=T[1],y=Object(u.useState)(0),C=Object(s.a)(y,2),A=C[0],F=C[1],I=function(){var e=Object(a.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(o.a)();case 3:"error"===(t=e.sent).type?j.a.fire("Error",t.msg,"error"):n(t.data.items),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),j.a.fire("Error",e.t0.message,"error");case 10:m(!1);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),G=function(){var e=Object(a.a)(c.a.mark((function e(){var t,r,n,a,s,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""===P||""===E||""===A||isNaN(E)||isNaN(A)){e.next=13;break}return v(!0),e.prev=2,e.next=5,Object(o.b)({itemName:P,amountToPurchase:E,cashEntered:A});case 5:"error"===(t=e.sent).type?j.a.fire("Error",t.msg,"error"):(r=t.data,n=r.purchaseToken,a=r.amountPurchased,s=r.amountCharged,u=r.returnAmount,j.a.fire("Purchase Success","\n                        Purchase successful.\n                        <br/>\n                        <br/>\n                        Purchase Token : ".concat(n,"\n                        <br/>\n                        Purchased Amount : ").concat(a,"\n                        <br/>\n                        Charged Amount : ").concat(s,"\n                        <br/>\n                        Return Change : ").concat(u,"\n                    "),"success"),w(""),S(""),F(""),I()),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),j.a.fire("Error",e.t0.msg,"error");case 12:v(!1);case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}();return Object(u.useEffect)((function(){I()}),[]),Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("div",{className:"container",children:Object(d.jsxs)("div",{className:"card",children:[Object(d.jsx)("div",{className:"title-text text-center",children:i.vendingMachine}),Object(d.jsxs)(h.b,{className:"float-right",to:"/refund",children:["Go to ",i.refund]}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),f?Object(d.jsx)(d.Fragment,{children:"Loading ...."}):Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("div",{className:"grid grid-3",children:r.map((function(e,t){var r=e.itemName,n=e.pricePerItem,c=e.stock;return Object(d.jsxs)("div",{onClick:function(){return function(e){w(e)}(r)},className:"card is-clickable ".concat(P===r&&"is-active"),children:[Object(d.jsxs)("div",{className:"text-center",children:[Object(d.jsx)("strong",{children:r}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),i.price," : ",i.rs," ",n]}),Object(d.jsx)("br",{}),Object(d.jsxs)("div",{className:"text-center",children:[i.amountOnStock," : ",c]})]},r)}))}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),""!==P&&Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("label",{htmlFor:"itemsToPurchase",children:i.enterItemsToPurchase}),Object(d.jsx)("br",{}),Object(d.jsx)("input",{value:E,onChange:function(e){return S(e.target.value)},min:0,type:"number",id:"itemsToPurchase",placeholder:i.enterItemsToPurchase}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)("label",{htmlFor:"cashAmount",children:i.enterCashAmount}),Object(d.jsx)("br",{}),Object(d.jsx)("input",{min:0,value:A,onChange:function(e){return F(e.target.value)},type:"number",id:"cashAmount",placeholder:i.enterCashAmount}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)("button",{disabled:x,onClick:G,children:i.purchase})]})]})]})})})}}}]);
//# sourceMappingURL=4.f8de2586.chunk.js.map